<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Echo Example</title>

    <style>
        html, body, form, input {
            margin: 0px;
            padding: 0px;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        input {
            display: block;
            text-align: center;
            font-size: 24px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
    </style>

    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>

    <script>
        $(document).ready(function () {
            socket = new WebSocket("ws://localhost:4127/ws");

            socket.onopen = function () {
                console.log("Соединение установлено.");
            };

            socket.onclose = function (event) {
                if (event.wasClean) {
                    console.log('Соединение закрыто чисто');
                } else {
                    console.log('Обрыв соединения'); // например, если процесс сервера завершён
                }
                console.log('Код: ' + event.code + ' причина: ' + event.reason);
            };

            socket.onmessage = function (event) {
                console.log("Получены данные " + event.data);
            };

            socket.onerror = function (error) {
                console.log("Ошибка " + error.message);
            };

            $('form').submit(function () {
                socket.send($('#message').val());
                $('#message').val('');
                return false;
            });
        });
    </script>
</head>
<body>
    <form action="">
        <input id="message" autocomplete="off" />
    </form>
</body>
</html>